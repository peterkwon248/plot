# Plot UI 오버홀 명세서

> Linear UI/UX를 최대한 모방하여 개인용 메모+Todo 앱으로 재구성
> 작성일: 2026-02-27

---

## 목차

1. [현재 상태 진단](#1-현재-상태-진단)
2. [작업 영역 A: 사이드바](#2-작업-영역-a-사이드바)
3. [작업 영역 B: 메인 리스트](#3-작업-영역-b-메인-리스트)
4. [작업 영역 C: 상세 페이지](#4-작업-영역-c-상세-페이지)
5. [작업 영역 D: 프로젝트 테이블 뷰](#5-작업-영역-d-프로젝트-테이블-뷰)
6. [작업 영역 E: 컨텍스트 메뉴 & 인터랙션](#6-작업-영역-e-컨텍스트-메뉴--인터랙션)
7. [작업 영역 F: 커맨드바 개선](#7-작업-영역-f-커맨드바-개선)
8. [작업 영역 G: 빈 상태 & 온보딩](#8-작업-영역-g-빈-상태--온보딩)
9. [작업 영역 H: 미세 디테일](#9-작업-영역-h-미세-디테일)
10. [우선순위 로드맵](#10-우선순위-로드맵)

---

## 1. 현재 상태 진단

### 구현된 것
- [x] 사이드바 기본 구조 (메모/진행/전체/완료 + 프로젝트 섹션)
- [x] 디자인 시스템 컬러 토큰 (Cool Cyan #22D3EE)
- [x] 전체 UI 한글화
- [x] 페이지 헤더 (제목 + 필터/보기 버튼)
- [x] 탭바 ("전체"/"프로젝트" 뷰에서만)
- [x] GroupHeader (상태별 접기/펼치기)
- [x] ItemRow (··· 메뉴, 항목 ID, 우선순위 뱃지)
- [x] DetailPanel 전체 페이지 뷰 (브레드크럼 + 2단 레이아웃)
- [x] 커맨드바 (⌘K)
- [x] 드래그앤드롭 정렬

### 리니어 대비 부족한 것
- [ ] 사이드바: 리니어 수준의 구조화, 호버 효과, 아이콘 디테일
- [ ] 리스트 행: 리니어의 밀도감, 인라인 속성 표시
- [ ] 상세 페이지: Activity/Comment 영역, 서브이슈 개념
- [ ] 프로젝트 테이블 뷰: 완전 미구현
- [ ] 우클릭 컨텍스트 메뉴: 미구현
- [ ] 필터/보기 기능: 버튼만 있고 실제 동작 없음
- [ ] 키보드 단축키 표시 및 일관성
- [ ] 리스트↔상세 전환 애니메이션

---

## 2. 작업 영역 A: 사이드바

### 현재 문제
- 단순 리스트 나열, 리니어의 계층 구조 없음
- hover 효과가 부드럽지 않음
- 섹션 구분이 불명확
- 사이드바 하단 영역 활용 없음
- 접기/펼치기 기능 없음

### 목표 (리니어 참고)
리니어 사이드바는 3개 섹션으로 구성:
- **개인 영역**: Inbox, My Issues
- **워크스페이스**: Projects, Views, More
- **팀 목록**: 팀별 접기/펼치기

### 구현 명세

#### A-1. 사이드바 섹션 구조 재설계
```
┌─────────────────────┐
│ ✦ Plot         ⌘K   │  ← 헤더
├─────────────────────┤
│   메모          12   │  ← 개인 뷰 (상단)
│   진행           3   │
│   전체          15   │
│   완료           8   │
├ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─┤
│ 프로젝트          +  │  ← 섹션 헤더 (접기 가능)
│   ● 디자인 작업   4  │
│   ● 개발 노트    12  │
│   ● 독서 메모     7  │
├ ─ ─ ─ ─ ─ ─ ─ ─ ─ ─┤
│ 뷰               +  │  ← 커스텀 뷰 (향후)
│   높은 중요도         │
│   이번 주            │
├─────────────────────┤
│                 ⚙️   │  ← 하단 고정: 설정
└─────────────────────┘
```

#### A-2. 사이드바 아이템 호버 & 활성 상태
| 상태 | 배경 | 텍스트 | 좌측 인디케이터 |
|------|------|--------|----------------|
| 기본 | 투명 | text-secondary | 없음 |
| hover | bg-surface (#141A1E) | text-primary | 없음 |
| 활성 | bg-elevated (#1C2428) | accent (#22D3EE) | 2px cyan 바 |

- 파일: `components/layout/Sidebar.tsx`, `SidebarItem.tsx`
- 변경: 활성 상태에 좌측 2px 인디케이터 바 추가, hover 시 전체 행 배경 변경

#### A-3. 섹션 접기/펼치기
- "프로젝트" 헤더 클릭 시 하위 목록 접기/펼치기
- 접힌 상태에서 화살표 아이콘 회전 (▶ → ▼)
- 접기 상태 localStorage 저장

#### A-4. 사이드바 하단 고정 영역
- 설정(⚙️) 버튼 고정
- 사이드바 접기/펼치기 토글 (향후)

#### A-5. 사이드바 리사이즈
- 기본 폭 220px
- 드래그로 180px~320px 조절 가능
- 더블클릭 시 기본값 복원

---

## 3. 작업 영역 B: 메인 리스트

### 현재 문제
- ItemRow 높이가 리니어 대비 너무 큼 (py-3 = 약 54px)
- 리니어는 행 높이 약 36~40px로 밀도 높음
- 인라인 속성(담당자/마감일 등) 표시 없음
- ··· 메뉴가 실제 동작하지 않음
- 필터/보기 버튼이 장식용

### 구현 명세

#### B-1. ItemRow 밀도 조정
```
현재:  py-3 (12px top + 12px bottom) = ~54px
목표:  py-1.5~py-2 (6~8px) = ~36~40px
```

| 속성 | 현재 | 목표 |
|------|------|------|
| 행 패딩 | `py-3` | `py-[7px]` |
| 제목 폰트 | 15px/22px | 13px/20px |
| 간격(gap) | gap-2 | gap-2 (유지) |
| 좌측 패딩 | px-6 | px-4 (리니어 동일) |

- 파일: `components/items/ItemRow.tsx`

#### B-2. ItemRow 인라인 속성 표시
리니어처럼 행 우측에 속성 칩 표시:

```
[상태아이콘] [ID] 제목 텍스트...          [프로젝트] [중요도] [날짜]
```

| 속성 | 표시 조건 | 위치 |
|------|----------|------|
| 프로젝트 라벨 | hub_id 존재 시 | 우측 |
| 중요도 아이콘 | none 아닌 경우 | 우측 |
| 수정 날짜 | 항상 | 맨 우측 |

- 프로젝트: 컬러닷(●) + 이름 (text-[11px])
- 중요도: 아이콘으로 표시 (바 개수로 시각화, 리니어 방식)
- 날짜: "2시간 전", "어제" 등 상대 시간

#### B-3. 필터 기능 구현
"필터" 버튼 클릭 시 드롭다운:

```
┌─────────────────────┐
│ 필터 조건 추가        │
├─────────────────────┤
│ 상태      [선택]     │
│ 중요도    [선택]     │
│ 프로젝트  [선택]     │
│ 날짜      [선택]     │
├─────────────────────┤
│ [초기화]   [적용]    │
└─────────────────────┘
```

- 파일: 새 파일 `components/ui/FilterDropdown.tsx`
- 연동: `ItemList.tsx`에서 필터 상태 관리

#### B-4. "보기" (Display) 기능 구현
"보기" 버튼 클릭 시 드롭다운:

```
┌─────────────────────┐
│ 그룹               │
│  ○ 없음  ● 상태     │
│  ○ 중요도 ○ 프로젝트 │
├─────────────────────┤
│ 정렬               │
│  ● 수동  ○ 최신순   │
│  ○ 중요도 ○ 제목순  │
├─────────────────────┤
│ 속성 표시           │
│  ☑ 중요도  ☑ 프로젝트│
│  ☑ 날짜   ☐ 태그    │
└─────────────────────┘
```

- 파일: 새 파일 `components/ui/DisplayDropdown.tsx`
- 연동: viewStore에 display 설정 추가

#### B-5. 탭바 모든 뷰 확장
현재 "전체"와 "프로젝트"에서만 탭바 표시 → **모든 뷰에서 표시**

| 뷰 | 탭 구성 |
|-----|---------|
| 메모 | 전체 \| 최근 \| 중요 |
| 진행 | 전체 \| 할 일 \| 진행 중 |
| 전체 | 전체 \| 할 일 \| 진행 중 \| 완료 |
| 완료 | 전체 \| 최근 \| 오래된 |
| 프로젝트 | 전체 \| 할 일 \| 진행 중 \| 완료 |

---

## 4. 작업 영역 C: 상세 페이지

### 현재 문제
- 우측 속성 패널이 리니어 대비 심심함
- Activity/History 영역 없음
- 제목 편집 UX가 어색 (클릭→인풋 전환)
- 체인(연결 노드) 표시 영역 없음 — Plot의 핵심 기능

### 구현 명세

#### C-1. 속성 패널 리디자인
리니어의 속성 패널을 참고하되, Plot 특성 반영:

```
┌─ 속성 ──────────────┐
│ 상태       [메모 ▾]  │
│ 중요도     [보통 ▾]  │
│ 프로젝트   [없음 ▾]  │
│ 태그       [+ 추가]  │
├─────────────────────┤
│ 체인 (연결 노드)     │  ← Plot 고유
│  → 관련 메모 #A2F1   │
│  → 상위 노드 #B3C2   │
│  [+ 노드 연결]       │
├─────────────────────┤
│ 생성 2시간 전        │
│ 수정 30분 전         │
├─────────────────────┤
│ 🗑 삭제              │
└─────────────────────┘
```

- 파일: `components/layout/DetailPanel.tsx`
- 변경: PropertyRow를 가로 레이아웃으로 변경 (라벨 좌측, 값 우측)
- 추가: 체인(연결 노드) 섹션

#### C-2. 제목 편집 UX 개선
| 현재 | 개선 |
|------|------|
| 클릭 → input으로 교체 | 클릭 시 contentEditable div로 전환 |
| border가 갑자기 나타남 | 포커스 시 밑줄만 subtle하게 |
| Enter로 저장 | Enter 저장, Shift+Enter 줄바꿈 |

#### C-3. Activity 영역 (Phase 2)
에디터 하단에 활동 타임라인:
```
─── 활동 ───
• 상태 변경: 메모 → 진행 중     2시간 전
• 프로젝트 배정: 디자인 작업     어제
• 생성됨                       2일 전
```
- 파일: 새 파일 `components/detail/ActivityTimeline.tsx`
- 데이터: Item에 `activity_log` 필드 추가 (향후)

#### C-4. 전환 애니메이션
- 리스트 → 상세: 좌측에서 fade-in (150ms ease)
- 상세 → 리스트: 우측으로 fade-out
- 항목 간 이동(◀▶): crossfade (100ms)

---

## 5. 작업 영역 D: 프로젝트 테이블 뷰

### 현재 문제
완전 미구현. 프로젝트를 클릭하면 일반 리스트 뷰로 이동할 뿐.

### 목표
리니어의 Projects 페이지처럼 테이블 형태:
```
┌──────────────────────────────────────────────┐
│ 프로젝트                    필터    보기      │
├──────────────────────────────────────────────┤
│ 이름          항목수  중요도  상태   수정일   │
├──────────────────────────────────────────────┤
│ ● 디자인 작업    4    보통   진행중  2시간전  │
│ ● 개발 노트     12    높음   진행중  어제     │
│ ● 독서 메모      7    없음   계획중  3일전    │
└──────────────────────────────────────────────┘
```

### 구현 명세

#### D-1. 프로젝트 테이블 컴포넌트
- 파일: 새 파일 `components/projects/ProjectTable.tsx`
- 열 구성:

| 열 | 너비 | 내용 |
|----|------|------|
| 이름 | flex-1 (최소 200px) | 컬러닷 + 프로젝트명 |
| 항목 수 | 80px | 프로젝트 내 항목 개수 |
| 중요도 | 80px | 가장 높은 중요도 표시 |
| 상태 | 100px | 진행률 바 or 텍스트 |
| 수정일 | 100px | 마지막 수정 시간 |

#### D-2. 프로젝트 헤더 열 정렬
- 열 헤더 클릭 시 오름차순/내림차순 토글
- 현재 정렬 열에 화살표(▲▼) 표시

#### D-3. 프로젝트 행 클릭 동작
- 클릭: 해당 프로젝트의 항목 리스트로 이동 (현재 기능 유지)
- 우클릭: 컨텍스트 메뉴 (이름 변경, 색상 변경, 삭제, 보관)

#### D-4. 사이드바에서 "프로젝트 전체보기" 진입점
- "프로젝트" 섹션 헤더 클릭 시 → 테이블 뷰로 이동
- 각 프로젝트 아이템 클릭 시 → 해당 프로젝트 리스트 뷰

---

## 6. 작업 영역 E: 컨텍스트 메뉴 & 인터랙션

### 현재 문제
- ··· 버튼 클릭해도 아무 동작 없음
- 우클릭 지원 없음
- 키보드 단축키 부족

### 구현 명세

#### E-1. 항목 컨텍스트 메뉴
```
┌─────────────────────┐
│ 상세 열기       Enter │
├─────────────────────┤
│ 상태 변경         → │
│ 중요도 변경       → │
│ 프로젝트 배정     → │
├─────────────────────┤
│ 복제            ⌘D  │
│ 노드 연결       ⌘L  │
├─────────────────────┤
│ 삭제            ⌫   │
└─────────────────────┘
```

- 파일: 새 파일 `components/ui/ContextMenu.tsx`
- 트리거: 우클릭 또는 ··· 버튼 클릭
- 서브메뉴: "상태 변경 →" 호버 시 상태 선택 펼침

#### E-2. 프로젝트 컨텍스트 메뉴
```
┌─────────────────────┐
│ 열기                │
│ 이름 변경           │
│ 색상 변경         → │
├─────────────────────┤
│ 보관               │
│ 삭제               │
└─────────────────────┘
```

#### E-3. 키보드 단축키 확장
| 단축키 | 동작 | 현재 상태 |
|--------|------|----------|
| `⌘K` | 커맨드바 | ✅ 구현됨 |
| `j/k` | 위/아래 이동 | ✅ 구현됨 |
| `Enter` | 상세 열기 | ✅ 구현됨 |
| `Esc` | 상세 닫기 | ✅ 구현됨 |
| `c` | 새 항목 | ✅ 구현됨 |
| `1-4` | 뷰 전환 | ✅ 구현됨 |
| `x` | 상태 토글 | ✅ 구현됨 |
| `s` | 상태 변경 메뉴 | ❌ 미구현 |
| `p` | 중요도 변경 메뉴 | ❌ 미구현 |
| `⌘D` | 항목 복제 | ❌ 미구현 |
| `⌘L` | 노드 연결 | ❌ 미구현 |
| `⌫/Del` | 삭제 | ❌ 미구현 |
| `⌘/` | 단축키 도움말 | ❌ 미구현 |

---

## 7. 작업 영역 F: 커맨드바 개선

### 현재 문제
- 섹션 헤더가 영어 ("Actions", "Navigation", "Items")
- lucide-react 의존성 (Search 아이콘)
- 최근 항목 표시 없음

### 구현 명세

#### F-1. 섹션 헤더 한글화
| 현재 | 변경 |
|------|------|
| Actions | 작업 |
| Navigation | 이동 |
| Items | 항목 |

#### F-2. lucide-react 제거
- `Search` 아이콘 → 인라인 SVG 교체
- 목표: lucide-react 의존성 완전 제거

#### F-3. 최근 항목 섹션
- 검색어 없을 때: "최근" 섹션에 마지막 열어본 5개 항목 표시
- viewStore에 `recentItems: string[]` 추가

#### F-4. 커맨드 확장
| 커맨드 | 설명 |
|--------|------|
| "새 프로젝트 만들기" | 프로젝트 인라인 생성 |
| "노드 연결" | 연결할 항목 검색 |
| "필터: 높은 중요도" | 빠른 필터 적용 |
| "테마 변경" (향후) | 테마 전환 |

---

## 8. 작업 영역 G: 빈 상태 & 온보딩

### 현재 문제
- 빈 상태 아이콘이 단순 (십자 점선)
- 리니어의 빈 상태는 더 세련되고 행동 유도가 명확함

### 구현 명세

#### G-1. 빈 상태 리디자인
```
┌─────────────────────────────┐
│                             │
│         [일러스트]           │
│                             │
│    아직 메모가 없습니다       │
│    첫 메모를 만들어보세요     │
│                             │
│    [ + 새 메모 만들기 ]      │  ← CTA 버튼
│    또는 ⌘K로 시작            │
│                             │
└─────────────────────────────┘
```

- CTA 버튼 추가 (클릭 시 새 항목 생성)
- 뷰별 차별화된 일러스트와 메시지
- 파일: `components/items/ItemList.tsx` 내 EmptyState 컴포넌트

#### G-2. 최초 실행 온보딩 (Phase 2)
- 첫 방문 시 3단계 가이드 오버레이
- "메모 작성 → 상태 변경 → 프로젝트 배정" 흐름 안내

---

## 9. 작업 영역 H: 미세 디테일

### H-1. 타이포그래피 일관성
| 요소 | 현재 | 목표 |
|------|------|------|
| 페이지 제목 | 14px semibold | 14px semibold (유지) |
| 탭 라벨 | 12px medium | 12px medium (유지) |
| 행 제목 | 15px medium | 13px medium (밀도 ↑) |
| 행 부제 | 12~13px | 12px (통일) |
| 메타 정보 | 11px | 11px (유지) |
| 섹션 헤더 | 11px uppercase | 11px uppercase (유지) |

### H-2. 간격 시스템 통일
| 위치 | 현재 | 목표 |
|------|------|------|
| 사이드바 아이템 | h-8, px-3 | h-7 (28px), px-2.5 |
| 리스트 행 | px-6, py-3 | px-4, py-[7px] |
| 페이지 헤더 | h-12, px-6 | h-11 (44px), px-4 |
| GroupHeader | px-6, py-2 | px-4, py-1.5 |

### H-3. 보더 & 구분선
- 리스트 행 사이: `border-b border-border-subtle` → 유지하되 opacity 낮춤
- GroupHeader 상단: 1px 구분선 추가
- 사이드바 섹션 사이: 미세한 구분선 + 8px 여백

### H-4. 트랜지션 & 애니메이션
| 요소 | 효과 | 시간 |
|------|------|------|
| 사이드바 hover | 배경색 변화 | 100ms ease |
| 리스트 행 hover | 배경색 변화 | 80ms ease |
| 탭 전환 | 밑줄 슬라이드 | 150ms ease-out |
| 상세 페이지 열기 | fade-in + translateX | 150ms ease |
| 컨텍스트 메뉴 | fade-in + scale | 100ms ease |
| GroupHeader 접기 | height collapse | 200ms ease |

### H-5. 스크롤바
- 리스트 영역: 평소 투명, hover 시 6px 스크롤바 표시
- 상세 페이지: 동일
- 사이드바: 프로젝트 많을 때만 표시

---

## 10. 우선순위 로드맵

### Phase 1: 핵심 밀도 개선 (즉시)
> 체감 변화가 가장 큰 작업들

| # | 작업 | 영역 | 예상 난이도 |
|---|------|------|-----------|
| 1 | ItemRow 밀도 조정 (행 높이 36~40px) | B-1 | ⭐ |
| 2 | ItemRow 인라인 속성 우측 표시 | B-2 | ⭐⭐ |
| 3 | 사이드바 활성 상태 인디케이터 | A-2 | ⭐ |
| 4 | 간격 시스템 통일 (H-2) | H-2 | ⭐ |
| 5 | 커맨드바 한글화 + lucide 제거 | F-1, F-2 | ⭐ |

### Phase 2: 구조적 개선 (다음)
> 리니어의 핵심 구조를 갖추는 작업

| # | 작업 | 영역 | 예상 난이도 |
|---|------|------|-----------|
| 6 | 컨텍스트 메뉴 (우클릭 + ···) | E-1 | ⭐⭐⭐ |
| 7 | 필터 드롭다운 | B-3 | ⭐⭐⭐ |
| 8 | 보기(Display) 드롭다운 | B-4 | ⭐⭐⭐ |
| 9 | 프로젝트 테이블 뷰 | D-1~D-4 | ⭐⭐⭐⭐ |
| 10 | 사이드바 섹션 접기/펼치기 | A-3 | ⭐⭐ |
| 11 | 상세 페이지 속성 패널 리디자인 | C-1 | ⭐⭐ |
| 12 | 제목 편집 UX 개선 | C-2 | ⭐⭐ |

### Phase 3: 인터랙션 & 플리시 (후속)
> 사용감을 한 단계 끌어올리는 작업

| # | 작업 | 영역 | 예상 난이도 |
|---|------|------|-----------|
| 13 | 전환 애니메이션 | C-4, H-4 | ⭐⭐ |
| 14 | 키보드 단축키 확장 | E-3 | ⭐⭐ |
| 15 | 빈 상태 리디자인 + CTA | G-1 | ⭐⭐ |
| 16 | 사이드바 리사이즈 | A-5 | ⭐⭐⭐ |
| 17 | 커맨드바 최근 항목 | F-3 | ⭐⭐ |
| 18 | 탭바 모든 뷰 확장 | B-5 | ⭐⭐ |

### Phase 4: Plot 고유 기능 (핵심 차별화)
> 리니어 모방을 넘어서는 Plot만의 기능

| # | 작업 | 영역 | 예상 난이도 |
|---|------|------|-----------|
| 19 | 체인 (노드 연결) 시스템 | C-1 | ⭐⭐⭐⭐⭐ |
| 20 | Activity 타임라인 | C-3 | ⭐⭐⭐ |
| 21 | 커스텀 뷰 (저장된 필터) | - | ⭐⭐⭐⭐ |
| 22 | 온보딩 가이드 | G-2 | ⭐⭐⭐ |

---

## 파일 영향도

| 파일 | 변경 규모 | 관련 작업 |
|------|----------|----------|
| `components/items/ItemRow.tsx` | **대** | B-1, B-2 |
| `components/items/ItemList.tsx` | **대** | B-3, B-4, B-5, G-1 |
| `components/layout/Sidebar.tsx` | **대** | A-1~A-5 |
| `components/layout/SidebarItem.tsx` | **중** | A-2 |
| `components/layout/DetailPanel.tsx` | **대** | C-1~C-4 |
| `components/layout/HubSection.tsx` | **중** | A-1, A-3 |
| `components/command-bar/CommandBar.tsx` | **중** | F-1~F-4 |
| `components/ui/ContextMenu.tsx` | **신규** | E-1, E-2 |
| `components/ui/FilterDropdown.tsx` | **신규** | B-3 |
| `components/ui/DisplayDropdown.tsx` | **신규** | B-4 |
| `components/projects/ProjectTable.tsx` | **신규** | D-1~D-4 |
| `components/detail/ActivityTimeline.tsx` | **신규** | C-3 |
| `stores/viewStore.ts` | **중** | B-3, B-4, F-3 |
| `types/index.ts` | **소** | C-3, D-1 |
| `hooks/useKeyboardNavigation.ts` | **중** | E-3 |
| `app/globals.css` | **소** | H-4 |

---

> 이 명세서는 Plot v0.2 → v0.3 UI 오버홀의 전체 작업 범위를 정의합니다.
> Phase 1~2를 우선 완료하면 "리니어 수준"에 근접하며,
> Phase 4의 체인(노드 연결)이 Plot의 핵심 차별점이 됩니다.
